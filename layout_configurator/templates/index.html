<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Modular Layout Configurator – Complete (Modern Style)</title>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body onload="createGrid()">
    <div class="container">
        <h1>Modular Layout Configurator – Complete</h1>
        <!-- Configuration Panel -->
        <div class="config-panel">
            <h2>Screen Size</h2>
            <label>Screen Size: <input type="number" id="gridRows" value="2" min="1"></label>
            <h2>Grid Settings</h2>
            <label>Grid Rows: <input type="number" id="gridRows" value="2" min="1"></label>
            <label>Grid Columns: <input type="number" id="gridCols" value="2" min="1"></label>
            <button onclick="createGrid()">Create Grid</button>
        </div>
        <!-- Section Bank / Trash Zone -->
        <div class="section-bank" id="section-bank">
            <h2>Section Bank / Trash Zone</h2>
            <div class="section-item" draggable="true"
                data-config='{"type": "portfolio", "font_size": 50, "color": "white", "size": "large", "innerWidgets": ["adabalance", "adavalue", "tokens", "lppos", "chart", "trades"]}'>
                Portfolio (Large)
            </div>
            <div class="section-item" draggable="true"
                data-config='{"type": "market_data", "font_size": 50, "color": "white", "size": "medium", "innerWidgets": ["quote", "activeaddresses", "dexvolume"]}'>
                Market Data (Medium)
            </div>
            <div class="section-item" draggable="true"
                data-config='{"type": "", "font_size": 50, "color": "white", "size": "small"}'>
                Empty Section (Small)
            </div>
            <div class="section-item" draggable="true"
                data-config='{"type": "tokens", "show": ["logo", "price", "change", "chart"], "tokens": ["MIN", "SNEK", "IAG", "XER"], "font_size": 50, "color": "white", "size": "medium"}'>
                Tokens (Medium)
            </div>
            <div class="section-item" draggable="true"
                data-config='{"type": "clock", "font_size": 50, "color": "white", "size": "small"}'>
                Clock (Small)
            </div>
            <div class="section-item" draggable="true"
                data-config='{"type": "nested_grid", "grid_size": [2,2], "cells": []}'>
                Nested Grid (2x2)
            </div>
            <div class="section-item" draggable="true"
                data-config='{"type": "center_split", "grid_size": [1,2], "cells": []}'>
                Center Split Nested Grid
            </div>
        </div>
        <!-- Outer Grid -->
        <div id="grid-container" class="grid-container"></div>
        <!-- Edit Panel for General Properties -->
        <div id="edit-panel" class="edit-panel">
            <h2>Edit Section</h2>
            <label>Type: <input type="text" id="edit-type"></label>
            <label>Font Size: <input type="number" id="edit-font_size"></label>
            <label>Color: <input type="text" id="edit-color"></label>
            <label>Size:
                <select id="edit-size">
                    <option value="small">Small</option>
                    <option value="medium">Medium</option>
                    <option value="large">Large</option>
                </select>
            </label>
            <button onclick="saveEdit()">Save</button>
            <button onclick="cancelEdit()">Cancel</button>
        </div>
        <!-- Export Button -->
        <button onclick="exportConfig()">Export JSON</button>
        <pre id="exported-json"></pre>
    </div>
    <script src="/static/script.js"></script>
</body>

</html>